(this["webpackJsonpcurrency-app-react"]=this["webpackJsonpcurrency-app-react"]||[]).push([[0],{10:function(e,t,c){},12:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(4),r=c.n(s),i=(c(9),c.p+"static/media/tom-lamb.04182375.svg"),l=(c(10),c(2)),j=c(0),o=Object(n.createContext)(),h=function(e){var t=e.children,c=Object(n.useState)(localStorage.theme?JSON.parse(localStorage.theme):"light"),a=Object(l.a)(c,2),s=a[0],r=a[1];Object(n.useEffect)((function(){localStorage.theme=JSON.stringify(s)}),[s]);var i={theme:s,handleThemeToggle:function(){r("light"===s?"dark":"light")}};return Object(j.jsx)(o.Provider,{value:i,children:t})},b=function(){var e=Object(n.useContext)(o),t=e.theme,c=e.handleThemeToggle;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("form",{type:"submit",className:"switch",children:[Object(j.jsx)("input",{type:"checkbox",className:"switch-checkbox",onChange:c,name:"themeToggle",id:"themeToggle",checked:"dark"===t}),Object(j.jsxs)("label",{className:"switch-label",htmlFor:"themeToggle",children:[Object(j.jsx)("span",{className:"switch-inner"}),Object(j.jsx)("span",{className:"switch-switch"})]})]})})},u=function(){var e=Object(n.useContext)(o).theme;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("header",{className:"header ".concat(e),children:Object(j.jsxs)("nav",{className:"header__container",children:[Object(j.jsx)("img",{className:"header__img",src:i,alt:"Tom Lamb logo: Yellow initials in a dark coloured container"}),Object(j.jsx)("h1",{className:"header__title",children:"Currencies"}),Object(j.jsx)(b,{})]})})})},m=function(e){var t=e.details,c=Object(n.useContext)(o).theme;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("article",{className:"article ".concat(c),children:[Object(j.jsxs)("div",{className:"article__details",children:[Object(j.jsx)("img",{className:"article__img",src:"http://localhost:8080".concat(t.logo),alt:""}),Object(j.jsxs)("div",{className:"article__content",children:[Object(j.jsx)("h2",{className:"article__title",children:t.initials}),Object(j.jsx)("p",{className:"article__subtitle",children:t.name})]})]}),Object(j.jsx)("div",{className:"article__rates",children:Object(j.jsx)("p",{className:"article__subtitle",children:t.rate})})]})})},O=function(){return fetch("https://currency-app-api.herokuapp.com/currencies").then((function(e){return e.json()}))},d=function(){var e=Object(n.useContext)(o).theme,t=Object(n.useState)([]),c=Object(l.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(60),i=Object(l.a)(r,2),h=i[0],b=i[1],u=Object(n.useState)(!1),d=Object(l.a)(u,2),x=d[0],g=d[1];return Object(n.useEffect)((function(){O().then((function(e){s(e.rates)})).catch((function(){g(!0)}))}),[]),Object(n.useEffect)((function(){var e=setInterval((function(){h>1?b(h-1):(b(60),O().then((function(e){s(e.rates)})).catch((function(){g(!0)})))}),1e3);return function(){clearInterval(e)}})),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("main",{className:"main ".concat(e),children:Object(j.jsxs)("section",{className:"main__container",children:[Object(j.jsx)("p",{className:"counter ".concat(e),children:"".concat(h," seconds until refresh...")}),a&&a.map((function(e){return Object(j.jsx)(m,{details:e},e.name)})),x&&Object(j.jsx)("p",{className:"error__message",children:"There has been an error. Please try again."})]})})})},x=function(){var e=Object(n.useContext)(o).theme;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("footer",{className:"footer ".concat(e),children:Object(j.jsx)("p",{children:"\xa9 2021 Tom Lamb. All rights reserved."})})})};var g=function(){return Object(j.jsxs)(h,{children:[Object(j.jsx)(u,{}),Object(j.jsx)(d,{}),Object(j.jsx)(x,{})]})},f=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,13)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(g,{})}),document.getElementById("root")),f()},9:function(e,t,c){}},[[12,1,2]]]);
//# sourceMappingURL=main.78a06bdb.chunk.js.map