(this["webpackJsonpcurrency-app-react"]=this["webpackJsonpcurrency-app-react"]||[]).push([[0],{10:function(e,t,c){},12:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(4),r=c.n(s),i=(c(9),c.p+"static/media/tom-lamb.04182375.svg"),l=(c(10),c(2)),o=c(0),j=Object(a.createContext)(),h=function(e){var t=e.children,c=Object(a.useState)(localStorage.theme?JSON.parse(localStorage.theme):"light"),n=Object(l.a)(c,2),s=n[0],r=n[1];Object(a.useEffect)((function(){localStorage.theme=JSON.stringify(s)}),[s]);var i={theme:s,handleThemeToggle:function(){r("light"===s?"dark":"light")}};return Object(o.jsx)(j.Provider,{value:i,children:t})},b=function(){var e=Object(a.useContext)(j),t=e.theme,c=e.handleThemeToggle;return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("form",{type:"submit",className:"switch",children:[Object(o.jsx)("input",{type:"checkbox",className:"switch-checkbox",onChange:c,name:"themeToggle",id:"themeToggle",checked:"dark"===t}),Object(o.jsxs)("label",{className:"switch-label",htmlFor:"themeToggle",children:[Object(o.jsx)("span",{className:"switch-inner"}),Object(o.jsx)("span",{className:"switch-switch"})]})]})})},m=function(){var e=Object(a.useContext)(j).theme;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("header",{className:"header ".concat(e),children:Object(o.jsxs)("nav",{className:"header__container",children:[Object(o.jsx)("img",{className:"header__img",src:i,alt:"Tom Lamb logo: Yellow initials in a dark coloured container"}),Object(o.jsx)("h1",{className:"header__title",children:"Currencies"}),Object(o.jsx)(b,{})]})})})},u=function(e){var t=e.details,c=Object(a.useContext)(j).theme;return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("article",{className:"article ".concat(c),children:[Object(o.jsxs)("div",{className:"article__details",children:[Object(o.jsx)("img",{className:"article__img",src:"http://localhost:8080".concat(t.logo),alt:""}),Object(o.jsxs)("div",{className:"article__content",children:[Object(o.jsx)("h2",{className:"article__title",children:t.initials}),Object(o.jsx)("p",{className:"article__subtitle",children:t.name})]})]}),Object(o.jsxs)("div",{className:"article__rates",children:[Object(o.jsx)("p",{className:"article__rate",children:t.rate}),Object(o.jsx)("p",{className:"article__subtitle",children:"1 EUR = ".concat(t.rate)})]})]})})},d=function(){return fetch("https://currency-app-api.herokuapp.com/currencies").then((function(e){return e.json()}))},O=function(){var e=Object(a.useContext)(j).theme,t=Object(a.useState)([]),c=Object(l.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(60),i=Object(l.a)(r,2),h=i[0],b=i[1],m=Object(a.useState)(!1),O=Object(l.a)(m,2),g=O[0],x=O[1];return Object(a.useEffect)((function(){d().then((function(e){s(e.rates)})).catch((function(){x(!0)}))}),[]),Object(a.useEffect)((function(){var e=setInterval((function(){h>1?b(h-1):(b(60),d().then((function(e){s(e.rates)})).catch((function(){x(!0)})))}),1e3);return function(){clearInterval(e)}})),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("main",{className:"main ".concat(e),children:Object(o.jsxs)("section",{className:"main__container",children:[Object(o.jsx)("p",{className:"counter ".concat(e),children:"".concat(h," seconds until refresh...")}),n&&n.map((function(e){return Object(o.jsx)(u,{details:e},e.name)})),g&&Object(o.jsx)("p",{className:"error__message",children:"There has been an error. Please try again."})]})})})},g=c.p+"static/media/github-dark.2a516804.svg",x=c.p+"static/media/github-light.02f4c054.svg",f=function(){var e=Object(a.useContext)(j).theme;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("footer",{className:"footer ".concat(e),children:Object(o.jsx)("a",{href:"https://github.com/Lambtsa/currency-app-react",rel:"noreferrer",target:"_blank",children:Object(o.jsx)("img",{className:"footer__img",src:"dark"===e?x:g,alt:"Github logo ".concat(e)})})})})};var p=function(){return Object(o.jsxs)(h,{children:[Object(o.jsx)(m,{}),Object(o.jsx)(O,{}),Object(o.jsx)(f,{})]})},_=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,13)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};r.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(p,{})}),document.getElementById("root")),_()},9:function(e,t,c){}},[[12,1,2]]]);
//# sourceMappingURL=main.3759b4df.chunk.js.map